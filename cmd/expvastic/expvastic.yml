settings:
    debug_evel: debug

readers:
    my_app: # service name
        type: expvar
        endpoint: localhost:1234
        routepath: /debug/vars
        interval: 1s
        timeout: 3s
        log_level: debug
        backoff: 10
    my_app2: # service name
        type: expvar
        endpoint: localhost:1235
        routepath: /debug/vars
        interval: 1s
        timeout: 13s
        log_level: debug
        backoff: 10
    self: # expvastic's self metric
        type: self # only used for this reason
        interval: 1s

recorders:
    elastic1: # service name
        type: elasticsearch
        endpoint: 127.0.0.1:9200
        index_name: expvastic
        type_name: my_app1
        timeout: 8s
        backoff: 10
    elastic2:
        type: elasticsearch
        endpoint: 127.0.0.1:9200
        index_name: expvastic
        type_name: my_app2
        timeout: 8s
        backoff: 10
    elastic3:
        type: elasticsearch
        endpoint: 127.0.0.1:9200
        index_name: expvastic
        type_name: self
        timeout: 18s
        backoff: 10

routes:
    route1:
        readers:
            - my_app
        recorders:
            - elastic1
    route2:
        readers:
            - my_app2
        recorders:
            - elastic2
    self_route:
        readers:
            - self
        recorders:
            - elastic3
