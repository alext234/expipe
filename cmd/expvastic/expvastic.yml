settings:
    log_level: info

readers:
    my_app: # service name
        type: expvar
        endpoint: localhost:1234
        routepath: /debug/vars
        type_name: my_app
        map_file: maps.yml
        interval: 500ms
        timeout: 3s
        backoff: 10
    my_app2: # service name
        type: expvar
        endpoint: localhost:1235
        routepath: /debug/vars
        type_name: my_ap2
        interval: 500ms
        timeout: 13s
        backoff: 10
    self: # expvastic's self metric
        type: self # only used for this reason
        type_name: expvastic
        interval: 500ms

recorders:
    elastic1: # service name
        type: elasticsearch
        endpoint: 127.0.0.1:9200
        index_name: expvastic
        timeout: 8s
        backoff: 10
    elastic2:
        type: elasticsearch
        endpoint: 127.0.0.1:9200
        index_name: expvastic
        timeout: 8s
        backoff: 10
    elastic3:
        type: elasticsearch
        endpoint: 127.0.0.1:9200
        index_name: expvastic
        timeout: 18s
        backoff: 10

routes:
    route1:
        readers:
            - my_app
        recorders:
            - elastic1
    route2:
        readers:
            - my_app2
        recorders:
            - elastic2
    self_route:
        readers:
            - self
        recorders:
            - elastic3
